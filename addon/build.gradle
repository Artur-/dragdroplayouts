apply plugin: 'maven'

dependencies{
 	testCompile     group:'junit',	name:'junit',	version: '4.8.+'
}

vaadin {
	widgetset = 'fi.jasoft.dragdroplayouts.DragDropLayoutsWidgetSet'
	manageWidgetset = false
}

jar{
    // JAR filename
    baseName = 'dragdroplayouts'

    // Do not build if tests do not pass
    dependsOn test

    // Include sources
    sourceSets.main.java.srcDirs.each{
        from it
    }

    // Create manifest
    manifest{
        attributes(
            'Vaadin-Package-Version': 1,
            'Vaadin-Widgetsets': vaadin.widgetset,
            'Vaadin-License-Title': 'Apache 2.0',
            'Implementation-Title': 'DragDropLayouts',
            'Implementation-Version': version,
            'Implementation-Vendor': 'John Ahlroos',
        )
    }
}

task createAddonPom {
	pom{
		artifactId = 'dragdroplayouts'
	}.writeTo("META-INF/maven/fi.jasoft/dragdroplayouts/pom.xml")
}

