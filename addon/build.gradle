apply plugin: 'maven'

dependencies{
 	testCompile     group:'junit',	name:'junit',	version: '4.8.+'
}

vaadin {
	widgetset = 'fi.jasoft.dragdroplayouts.DragDropLayoutsWidgetSet'
	manageWidgetset = false

	addon {
		author 'John Ahlroos'
		license 'Apache 2.0'
		title 'DragDropLayouts'
	}
}

jar{
    // JAR filename
    baseName = 'dragdroplayouts'

    // Do not build if tests do not pass
    dependsOn test

    // Include sources
    sourceSets.main.java.srcDirs.each{
        from it
    }
}

task createAddonPom {
	pom{
		artifactId = 'dragdroplayouts'
	}.writeTo("META-INF/maven/fi.jasoft/dragdroplayouts/pom.xml")
}

